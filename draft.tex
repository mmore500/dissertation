\def\mydraft{
\usepackage{draftwatermark}
\usepackage{lineno}
\linenumbers
\renewcommand{\linenumberfont}{\normalfont\small\color{red}}
\usepackage{showframe}

% prevent line numbers from causing mdframe to break at every single line
\BeforeBeginEnvironment{mdframed}{\begin{internallinenumbers}}
\AfterEndEnvironment{mdframed}{\end{internallinenumbers}}

}
\input{main.tex}
